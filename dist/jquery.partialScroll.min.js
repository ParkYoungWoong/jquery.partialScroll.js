!function(e){"use strict";var n="partialscroll-area",t=navigator.platform.toUpperCase().indexOf("MAC")>=0;e.fn.partialScroll=function(o){function i(){s()}function r(e){var n=e.originalEvent;return n.detail?-40*n.detail:n.wheelDelta}function c(e,n){if(t){p.oldDate=p.newDate,p.newDate=new Date;var o=p.newDate.getTime()-p.oldDate.getTime(),i=Math.abs(r(n));return console.log(i),o<e&&i<50||void 0}}function s(){g.on("mousewheel DOMMouseScroll",function(e){if(!(p.stopAllFunctions||p.throttleWheel||c(150,e))){p.throttleWheel=!0;var n=r(e);120===n||n>0?p.wheel="up":(-120===n||n<0)&&(p.wheel="down"),l(p.wheel),setTimeout(function(){p.throttleWheel=!1},o.throttleScrolling)}})}function l(e){p.scrolling||p.stopAllFunctions||0===p.currentIndex&&"up"===e||p.currentIndex===p.secLength-1&&"down"===e||p.currentIndex===e||p.secLength-1<e||(p.scrolling=!0,p.oldIndex=p.currentIndex,p.secIndex=e,d(),h(),u(),a())}function u(){switch(p.secIndex){case"up":p.moveValue=g.find(".section").eq(p.oldIndex).height(),p.currentPositionTop=p.currentPositionTop+p.moveValue;break;case"down":p.moveValue=g.find(".section").eq(p.currentIndex).height(),p.currentPositionTop=p.currentPositionTop-p.moveValue;break;default:if("number"==typeof p.secIndex){p.moveValue=g.find(".section").eq(p.currentIndex).height();var e=0;p.secIndex===p.secLength-1&&(e=g.find(".section").eq(p.currentIndex).height()-p.secHeight),p.currentPositionTop=-(p.secHeight*p.secIndex+e)}}}function d(){switch(p.secIndex){case"up":p.currentIndex--;break;case"down":p.currentIndex++;break;default:"number"==typeof p.secIndex&&(p.currentIndex=p.secIndex)}}function a(){p.wrap.css({transform:"translateY("+p.currentPositionTop+"px)"}),setTimeout(f,o.scrollingSpeed)}function h(){switch(p.secIndex){case"up":case"down":o.sliderBefore(p.oldIndex,p.currentIndex);break;default:"number"==typeof p.secIndex&&o.sliderBefore(p.oldIndex,p.secIndex)}}function f(){setTimeout(function(){p.scrolling=!1},400),o.sliderAfter(p.oldIndex,p.currentIndex)}if(0===this.length)return this;if(this.length>1)return this.each(function(){e(this).partialScroll(o)}),this;var p={},g=this;return o=e.extend({secWidth:0,secHeight:0,secLength:0,scrollingSpeed:900,throttleScrolling:100,footer:!1,sliderBefore:function(){return!0},sliderAfter:function(){return!0}},o),g.moveTo=function(e){l(Number(e))},g.moveToUp=function(){l("up")},g.moveToDown=function(){l("down")},g.stopScroll=function(){p.stopAllFunctions=!0},g.startScroll=function(){p.stopAllFunctions=!1},g.css({overflow:"hidden"}),g.wrapInner('<div class="'+n+'"></div>'),p.secWidth=0===o.secWidth?parseInt(g.css("width")):o.secWidth,p.secHeight=0===o.secHeight?parseInt(g.css("height")):o.secHeight,p.secLength=0===o.secLength?g.find(".section").length:o.secLength,p.wrap=g.find("."+n),p.wrap.css({width:p.secWidth,position:"relative",transition:"all "+o.scrollingSpeed/1e3+"s"}),p.stopAllFunctions=!1,p.throttleWheel=!1,p.scrolling=!1,p.oldIndex=0,p.currentIndex=0,p.currentPositionTop=0,p.moveValue=parseInt(p.secHeight),p.newDate=new Date,p.oldDate=null,i(),this}}(jQuery);