!function(e){"use strict";var n="partialscroll-area",t=navigator.platform.toUpperCase().indexOf("MAC")>=0;e.fn.partialScroll=function(o){function r(){s()}function i(e){var n=e.originalEvent;return n.detail?-40*n.detail:n.wheelDelta}function c(e,n){if(t){a.oldDate=a.newDate,a.newDate=new Date;var o=a.newDate.getTime()-a.oldDate.getTime(),r=Math.abs(i(n));return console.log(r),o<e&&r<50||void 0}}function s(){h.on("mousewheel DOMMouseScroll",function(e){if(!(a.stopAllFunctions||a.throttleWheel||c(150,e))){a.throttleWheel=!0;var n=i(e);120===n||n>0?a.wheel="up":(-120===n||n<0)&&(a.wheel="down"),l(a.wheel),setTimeout(function(){a.throttleWheel=!1},o.throttleScrolling)}})}function l(e){if(!a.stopAllFunctions&&!(a.scrolling||0===a.currentIndex&&"up"===e||a.currentIndex===a.secLength-1&&"down"===e||a.currentIndex===e)){switch(a.scrolling=!0,a.oldIndex=a.currentIndex,a.secIndex=e,a.secIndex){case"up":o.sliderBefore(a.oldIndex,a.oldIndex-1),a.currentPositionTop=a.currentPositionTop+parseInt(o.secHeight);break;case"down":o.sliderBefore(a.oldIndex,a.oldIndex+1),a.currentPositionTop=a.currentPositionTop-parseInt(o.secHeight);break;default:"number"==typeof a.secIndex&&(o.sliderBefore(a.oldIndex,a.secIndex),a.currentPositionTop=-parseInt(o.secHeight)*a.secIndex)}d()}}function d(){a.wrap.stop().animate({top:a.currentPositionTop},o.scrollingSpeed,u)}function u(){switch(a.secIndex){case"up":a.currentIndex--;break;case"down":a.currentIndex++;break;default:"number"==typeof a.secIndex&&(a.currentIndex=a.secIndex)}setTimeout(function(){a.scrolling=!1},400),o.sliderAfter(a.oldIndex,a.currentIndex)}if(0===this.length)return this;if(this.length>1)return this.each(function(){e(this).partialScroll(o)}),this;var a={},h=this;return o=e.extend({secWidth:0,secHeight:0,secLength:0,scrollingSpeed:900,throttleScrolling:100,sliderBefore:function(){return!0},sliderAfter:function(){return!0}},o),h.moveTo=function(e){l(e)},h.moveToUp=function(){l("up")},h.moveToDown=function(){l("down")},h.stopScroll=function(){a.stopAllFunctions=!0},h.startScroll=function(){a.stopAllFunctions=!1},function(){o.secWidth=h.css("width"),o.secHeight=h.css("height"),h.css({overflow:"hidden"}),h.wrapInner('<div class="'+n+'"></div>'),a.wrap=h.find("."+n),a.wrap.css({width:o.secWidth,position:"relative"}),a.stopAllFunctions=!1,a.throttleWheel=!1,a.scrolling=!1,a.oldIndex=0,a.currentIndex=0,a.currentPositionTop=0,a.secLength=0===o.secLength?h.find(".section").length:o.secLength,a.newDate=new Date,a.oldDate=null,r()}(),this}}(jQuery);